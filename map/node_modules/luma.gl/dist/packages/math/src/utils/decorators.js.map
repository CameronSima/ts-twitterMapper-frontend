{"version":3,"sources":["../../../../../src/packages/math/src/utils/decorators.js"],"names":["unary","staticMethod","binary","spread","isDescriptor","descriptor","hasOwnProperty","keys","i","l","length","decorate","entryArgs","handleDescriptor","_decorate","arguments","decoratorArgs","target","methodKey","Class","constructor","Object","assing","value","unaryWrapper","apply","assign","staticMethodWrapper","args","a","b","copy","binaryWrapper","rest","reduce","acc","elt","spreadWrapper"],"mappings":"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","file":"decorators.js","sourcesContent":["// From https://github.com/jayphelps/core-decorators.js, MIT license\nfunction isDescriptor(descriptor) {\n  if (!descriptor || !descriptor.hasOwnProperty) {\n    return false;\n  }\n\n  const keys = ['value', 'initializer', 'get', 'set'];\n\n  for (let i = 0, l = keys.length; i < l; i++) {\n    if (descriptor.hasOwnProperty(keys[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// From https://github.com/jayphelps/core-decorators.js, MIT license\nfunction decorate(entryArgs, handleDescriptor) {\n  if (isDescriptor(entryArgs[entryArgs.length - 1])) {\n    return handleDescriptor(...entryArgs, []);\n  }\n  return function _decorate() {\n    return handleDescriptor(...arguments, entryArgs);\n  };\n}\n\nexport function unary(...decoratorArgs) {\n  return decorate(decoratorArgs,\n    (target, methodKey, descriptor, []) => {\n      const Class = target.constructor;\n      Class[methodKey] = (...args) => (new Class())[methodKey](...args);\n      return Object.assing({}, descriptor, {\n        value: function unaryWrapper() {\n          return descriptor.value.apply(this, arguments);\n        }\n      });\n    });\n}\n\nexport function staticMethod(...decoratorArgs) {\n  return decorate(decoratorArgs,\n    (target, methodKey, descriptor, []) => {\n      const Class = target.constructor;\n      Class[methodKey] = (...args) => (new Class())[methodKey](...args);\n      return Object.assign({}, descriptor, {\n        value: function staticMethodWrapper() {\n          return descriptor.value.apply(this, arguments);\n        }\n      });\n    });\n}\n\nexport function binary(...args) {\n  return decorate(args,\n    (target, methodKey, descriptor, []) => {\n      const Class = target.constructor;\n      Class[methodKey] = (a, b) => new Class().copy(a)[methodKey](b);\n\n      return Object.assign({}, descriptor, {\n        value: function binaryWrapper() {\n          return descriptor.value.apply(this, arguments);\n        }\n      });\n    });\n}\n\nexport function spread(...args) {\n  return decorate(args,\n    (target, methodKey, descriptor, []) => {\n      const Class = target.constructor;\n      Class[methodKey] = (a, ...rest) => rest.reduce(\n        (acc, elt) => acc[methodKey](elt),\n        new Class().copy(a)\n      );\n\n      return Object.assign({}, descriptor, {\n        value: function spreadWrapper() {\n          return descriptor.value.apply(this, arguments);\n        }\n      });\n    });\n}\n"]}