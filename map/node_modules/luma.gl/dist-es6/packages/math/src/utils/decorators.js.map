{"version":3,"sources":["../../../../../src/packages/math/src/utils/decorators.js"],"names":["isDescriptor","descriptor","hasOwnProperty","keys","i","l","length","decorate","entryArgs","handleDescriptor","_decorate","arguments","unary","decoratorArgs","target","methodKey","Class","constructor","Object","assing","value","unaryWrapper","apply","staticMethod","assign","staticMethodWrapper","binary","args","a","b","copy","binaryWrapper","spread","rest","reduce","acc","elt","spreadWrapper"],"mappings":"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","file":"decorators.js","sourcesContent":["// From https://github.com/jayphelps/core-decorators.js, MIT license\nfunction isDescriptor(descriptor) {\n  if (!descriptor || !descriptor.hasOwnProperty) {\n    return false;\n  }\n\n  const keys = ['value', 'initializer', 'get', 'set'];\n\n  for (let i = 0, l = keys.length; i < l; i++) {\n    if (descriptor.hasOwnProperty(keys[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// From https://github.com/jayphelps/core-decorators.js, MIT license\nfunction decorate(entryArgs, handleDescriptor) {\n  if (isDescriptor(entryArgs[entryArgs.length - 1])) {\n    return handleDescriptor(...entryArgs, []);\n  }\n  return function _decorate() {\n    return handleDescriptor(...arguments, entryArgs);\n  };\n}\n\nexport function unary(...decoratorArgs) {\n  return decorate(decoratorArgs,\n    (target, methodKey, descriptor, []) => {\n      const Class = target.constructor;\n      Class[methodKey] = (...args) => (new Class())[methodKey](...args);\n      return Object.assing({}, descriptor, {\n        value: function unaryWrapper() {\n          return descriptor.value.apply(this, arguments);\n        }\n      });\n    });\n}\n\nexport function staticMethod(...decoratorArgs) {\n  return decorate(decoratorArgs,\n    (target, methodKey, descriptor, []) => {\n      const Class = target.constructor;\n      Class[methodKey] = (...args) => (new Class())[methodKey](...args);\n      return Object.assign({}, descriptor, {\n        value: function staticMethodWrapper() {\n          return descriptor.value.apply(this, arguments);\n        }\n      });\n    });\n}\n\nexport function binary(...args) {\n  return decorate(args,\n    (target, methodKey, descriptor, []) => {\n      const Class = target.constructor;\n      Class[methodKey] = (a, b) => new Class().copy(a)[methodKey](b);\n\n      return Object.assign({}, descriptor, {\n        value: function binaryWrapper() {\n          return descriptor.value.apply(this, arguments);\n        }\n      });\n    });\n}\n\nexport function spread(...args) {\n  return decorate(args,\n    (target, methodKey, descriptor, []) => {\n      const Class = target.constructor;\n      Class[methodKey] = (a, ...rest) => rest.reduce(\n        (acc, elt) => acc[methodKey](elt),\n        new Class().copy(a)\n      );\n\n      return Object.assign({}, descriptor, {\n        value: function spreadWrapper() {\n          return descriptor.value.apply(this, arguments);\n        }\n      });\n    });\n}\n"]}